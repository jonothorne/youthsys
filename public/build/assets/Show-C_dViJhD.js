import{u as M,c as U,w as _,a as x,b as n,h as A,d as t,t as a,l as h,f,n as y,i as j,j as u,v,k as C,y as k,o,e as i,F as m,r as p,g as b,m as B,z as g}from"./app-Di3q2XRE.js";import{a as L,_ as F}from"./AuthenticatedLayout-C5z9Ye_8.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-CQfCzEy-.js";const q={class:"space-y-6"},z={class:"flex flex-wrap items-center justify-between gap-4"},G={class:"text-2xl font-semibold text-slate-900"},I={class:"text-sm text-slate-500"},O={class:"flex flex-wrap gap-3"},R={class:"grid gap-6 lg:grid-cols-3"},E={class:"panel p-6 lg:col-span-2"},W={class:"flex items-center justify-between"},Y={class:"flex items-center gap-2 text-sm text-slate-600"},$={class:"flex items-center gap-2 text-sm text-slate-600"},H={class:"md:col-span-2 flex justify-end gap-3 pt-4"},J=["disabled"],K={class:"panel p-6"},Q={class:"mt-4 space-y-3"},X={class:"text-sm font-semibold text-slate-900"},Z={class:"text-xs text-slate-500"},tt={class:"text-sm text-slate-600"},et={key:0,class:"text-xs text-slate-500"},st={key:0,class:"text-sm text-slate-500"},lt={class:"grid gap-6 lg:grid-cols-3"},at={class:"panel p-6 lg:col-span-2 space-y-6"},ot={class:"mt-4 grid gap-4 md:grid-cols-2"},nt={class:"text-xs uppercase tracking-wide text-slate-500"},it={class:"text-sm font-semibold text-slate-900"},dt={class:"mt-4 grid gap-4 md:grid-cols-2"},rt={class:"text-xs uppercase tracking-wide text-slate-500"},ut={class:"text-sm font-semibold text-slate-900"},mt={class:"mt-4 space-y-3"},pt={class:"text-xs uppercase tracking-wide text-slate-500"},ct={class:"text-sm text-slate-700"},xt={class:"panel p-6 space-y-6"},ft={class:"mt-4 divide-y divide-slate-100"},yt={class:"text-slate-600"},bt={class:"text-sm font-semibold text-slate-900"},_t={key:0,class:"py-4 text-sm text-slate-500"},vt={class:"mt-4 space-y-3"},gt={class:"font-semibold text-slate-900"},ht={class:"mt-2 flex flex-wrap gap-2 text-xs text-slate-600"},kt={key:0,class:"text-sm text-slate-500"},wt={class:"rounded-2xl border border-slate-100 bg-slate-50 p-4"},Dt={class:"text-3xl font-semibold text-slate-900"},St={__name:"Show",props:{youth:Object,guardians:Array},setup(r){const l=r,d=M({first_name:l.youth.first_name,last_name:l.youth.last_name,preferred_name:l.youth.preferred_name,status:l.youth.status,active:l.youth.active,photo_consent:l.youth.photo_consent}),w=()=>{d.put(route("admin.youth.update",l.youth.id))},D=()=>{confirm("Are you sure you want to delete this young person?")&&B.delete(route("admin.youth.destroy",l.youth.id))},S=c=>c?new Date(c).toLocaleDateString():"—",N=g(()=>[{label:"Date of birth",value:S(l.youth.date_of_birth)},{label:"Gender",value:l.youth.gender||"—"},{label:"Preferred name",value:l.youth.preferred_name||"—"},{label:"Primary language",value:l.youth.primary_language||"—"}]),V=g(()=>[{label:"School year",value:l.youth.school_year||"—"},{label:"School name",value:l.youth.school_name||"—"}]),P=g(()=>[{label:"Allergies",value:l.youth.allergies||"No allergies recorded."},{label:"Medications",value:l.youth.medications||"No medications recorded."},{label:"Medical notes",value:l.youth.medical_notes||"No additional notes."},{label:"Dietary requirements",value:l.youth.dietary_requirements||"None provided."}]);return(c,e)=>(o(),U(F,null,{default:_(()=>[x(n(A),{title:l.youth.first_name},null,8,["title"]),t("div",q,[t("div",z,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-xs uppercase tracking-wide text-slate-500"},"Young person",-1)),t("h1",G,a(l.youth.first_name)+" "+a(l.youth.last_name),1),t("p",I,"Preferred name: "+a(l.youth.preferred_name||"—"),1)]),t("div",O,[t("button",{class:"rounded-2xl border border-rose-200 px-4 py-2 text-sm font-semibold text-rose-600",onClick:D}," Delete "),x(n(h),{href:c.route("admin.youth.index"),class:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600"},{default:_(()=>[...e[7]||(e[7]=[f(" ← Back to directory ",-1)])]),_:1},8,["href"])])]),t("section",R,[t("div",E,[t("div",W,[e[8]||(e[8]=t("div",null,[t("p",{class:"text-sm font-semibold text-slate-900"},"Profile & status"),t("p",{class:"text-xs text-slate-500"},"Update status or preferred name")],-1)),t("span",{class:y(["rounded-full px-3 py-1 text-xs font-semibold",l.youth.status==="active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"])},a(l.youth.status),3)]),t("form",{class:"mt-6 grid gap-4 md:grid-cols-2",onSubmit:j(w,["prevent"])},[t("div",null,[e[9]||(e[9]=t("label",{class:"form-label"},"First name",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(d).first_name=s),class:"form-input"},null,512),[[v,n(d).first_name]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"form-label"},"Last name",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n(d).last_name=s),class:"form-input"},null,512),[[v,n(d).last_name]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"form-label"},"Preferred name",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n(d).preferred_name=s),class:"form-input"},null,512),[[v,n(d).preferred_name]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"form-label"},"Status",-1)),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>n(d).status=s),class:"form-input"},[...e[12]||(e[12]=[t("option",{value:"pending"},"Pending",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],512),[[C,n(d).status]])]),t("label",Y,[u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>n(d).active=s),type:"checkbox",class:"rounded"},null,512),[[k,n(d).active]]),e[14]||(e[14]=f(" Active on register ",-1))]),t("label",$,[u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>n(d).photo_consent=s),type:"checkbox",class:"rounded"},null,512),[[k,n(d).photo_consent]]),e[15]||(e[15]=f(" Photo consent ",-1))]),t("div",H,[t("button",{type:"submit",class:"rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",disabled:n(d).processing}," Save changes ",8,J)])],32)]),t("div",K,[e[16]||(e[16]=t("p",{class:"text-sm font-semibold text-slate-900"},"Guardians",-1)),e[17]||(e[17]=t("p",{class:"text-xs text-slate-500"},"Primary contacts",-1)),t("div",Q,[(o(!0),i(m,null,p(r.youth.guardians,s=>(o(),i("div",{key:s.id,class:"rounded-2xl border border-slate-100 bg-slate-50 p-4"},[t("p",X,a(s.first_name)+" "+a(s.last_name),1),t("p",Z,a(s.relationship),1),t("p",tt,a(s.primary_phone),1),s.email?(o(),i("p",et,a(s.email),1)):b("",!0)]))),128)),r.youth.guardians.length?b("",!0):(o(),i("p",st,"No guardians linked yet."))])])]),t("section",lt,[t("div",at,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm font-semibold text-slate-900"},"Personal details",-1)),t("div",ot,[(o(!0),i(m,null,p(N.value,s=>(o(),i("div",{key:s.label},[t("p",nt,a(s.label),1),t("p",it,a(s.value),1)]))),128))])]),t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm font-semibold text-slate-900"},"School information",-1)),t("div",dt,[(o(!0),i(m,null,p(V.value,s=>(o(),i("div",{key:s.label},[t("p",rt,a(s.label),1),t("p",ut,a(s.value),1)]))),128))])]),t("div",null,[e[20]||(e[20]=t("p",{class:"text-sm font-semibold text-slate-900"},"Medical & safety",-1)),t("div",mt,[(o(!0),i(m,null,p(P.value,s=>(o(),i("div",{key:s.label},[t("p",pt,a(s.label),1),t("p",ct,a(s.value),1)]))),128))])])]),t("div",xt,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-semibold text-slate-900"},"Recent attendance",-1)),t("ul",ft,[(o(!0),i(m,null,p(r.youth.attendance_records,s=>(o(),i("li",{key:s.id,class:"flex items-center justify-between py-3 text-sm"},[t("span",yt,a(new Date(s.session.session_date).toLocaleDateString()),1),t("span",bt,a(s.status),1)]))),128)),r.youth.attendance_records?.length?b("",!0):(o(),i("li",_t,"No attendance yet."))])]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm font-semibold text-slate-900"},"Consents",-1)),t("div",vt,[(o(!0),i(m,null,p(r.youth.consents,s=>(o(),i("div",{key:s.id,class:"rounded-2xl border border-slate-100 p-3 text-sm"},[t("p",gt,"Signed "+a(new Date(s.signed_at).toLocaleDateString()),1),t("div",ht,[t("span",{class:y(s.general_attendance?"text-emerald-600":"text-rose-500")},"Weekly",2),t("span",{class:y(s.offsite_events?"text-emerald-600":"text-rose-500")},"Offsite",2),t("span",{class:y(s.media_consent?"text-emerald-600":"text-rose-500")},"Media",2)])]))),128)),r.youth.consents.length?b("",!0):(o(),i("p",kt,"Awaiting guardian consent."))])]),t("div",wt,[e[24]||(e[24]=t("p",{class:"text-xs uppercase tracking-wide text-slate-500"},"Tokens",-1)),t("p",Dt,a(r.youth.token_account?.balance??0),1),x(n(h),{href:c.route("admin.tokens.index"),class:"mt-2 inline-flex items-center gap-1 text-sm font-semibold text-indigo-600"},{default:_(()=>[e[23]||(e[23]=f(" Token console ",-1)),x(L,{class:"h-4 w-4"})]),_:1},8,["href"])])])])])]),_:1}))}},Ut=T(St,[["__scopeId","data-v-22791aaf"]]);export{Ut as default};
