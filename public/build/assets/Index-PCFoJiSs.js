import{u as c,c as b,w as m,a as u,b as l,h as y,d as t,t as a,o as n,e as d,F as g,r as v,l as _,f as w,g as k,i,v as r,j as h,k as V}from"./app-DJlD9uqU.js";import{_ as D}from"./AuthenticatedLayout-5TTAdiq2.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-vJUxHbW4.js";const C={class:"grid gap-6 lg:grid-cols-3"},N={class:"panel p-6 lg:col-span-2"},B={class:"flex items-center justify-between"},I={class:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-600"},U={class:"mt-4 overflow-x-auto"},j={class:"min-w-full divide-y divide-border text-sm"},A={class:"divide-y divide-slate-100 bg-white"},F={class:"px-4 py-4 text-sm font-semibold text-slate-900"},L={class:"px-4 py-4 text-slate-600"},M={class:"px-4 py-4"},O={class:"px-4 py-4 text-right"},P={class:"panel p-6"},T={key:0,class:"form-error"},E=["disabled"],R={__name:"Index",props:{sessions:Object},setup(p){const o=c({session_date:new Date().toISOString().slice(0,10),session_type:"weekly",name:"Alive Youth",location:"Alive Church"}),x=()=>{o.post(route("admin.attendance.store"))};return(f,s)=>(n(),b(D,null,{default:m(()=>[u(l(y),{title:"Attendance"}),t("div",C,[t("section",N,[t("div",B,[s[4]||(s[4]=t("div",null,[t("p",{class:"text-sm font-semibold text-slate-900"},"Registers"),t("p",{class:"text-xs text-slate-500"},"Past and upcoming sessions")],-1)),t("span",I,a(p.sessions.total)+" sessions",1)]),t("div",U,[t("table",j,[s[6]||(s[6]=t("thead",{class:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500"},[t("tr",null,[t("th",{class:"px-4 py-3"},"Date"),t("th",{class:"px-4 py-3"},"Type"),t("th",{class:"px-4 py-3"},"Present"),t("th")])],-1)),t("tbody",A,[(n(!0),d(g,null,v(p.sessions.data,e=>(n(),d("tr",{key:e.id,class:"hover:bg-slate-50"},[t("td",F,a(new Date(e.session_date).toLocaleDateString()),1),t("td",L,a(e.session_type),1),t("td",M,a(e.present_count??0),1),t("td",O,[u(l(_),{href:f.route("admin.attendance.show",e.id),class:"text-sm font-semibold text-indigo-600"},{default:m(()=>[...s[5]||(s[5]=[w("Open register",-1)])]),_:1},8,["href"])])]))),128))])])])]),t("section",P,[s[12]||(s[12]=t("p",{class:"text-sm font-semibold text-slate-900"},"Create session",-1)),s[13]||(s[13]=t("p",{class:"text-xs text-slate-500"},"Prefill your weekly gatherings",-1)),t("form",{class:"mt-4 space-y-4",onSubmit:k(x,["prevent"])},[t("div",null,[s[7]||(s[7]=t("label",{class:"form-label"},"Date",-1)),i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l(o).session_date=e),type:"date",class:"form-input"},null,512),[[r,l(o).session_date]]),l(o).errors.session_date?(n(),d("p",T,a(l(o).errors.session_date),1)):h("",!0)]),t("div",null,[s[8]||(s[8]=t("label",{class:"form-label"},"Name",-1)),i(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>l(o).name=e),class:"form-input"},null,512),[[r,l(o).name]])]),t("div",null,[s[9]||(s[9]=t("label",{class:"form-label"},"Location",-1)),i(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>l(o).location=e),class:"form-input"},null,512),[[r,l(o).location]])]),t("div",null,[s[11]||(s[11]=t("label",{class:"form-label"},"Session type",-1)),i(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>l(o).session_type=e),class:"form-input"},[...s[10]||(s[10]=[t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"event"},"Event",-1)])],512),[[V,l(o).session_type]])]),t("button",{type:"submit",class:"w-full rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",disabled:l(o).processing}," Create & open register ",8,E)],32)])])]),_:1}))}},z=S(R,[["__scopeId","data-v-85fa0e72"]]);export{z as default};
