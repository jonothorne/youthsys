import{q as y,x as C,s as v,u as S,c as V,w as _,a as x,b as o,h as D,d as e,t as a,i as u,v as m,o as r,e as n,F as h,r as g,j as b,n as j,l as U,f as $,g as B}from"./app-BoUNHoE7.js";import{S as F,X as N,_ as A}from"./AuthenticatedLayout-DKoDOVqw.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-BiX6UPa2.js";const I={class:"space-y-6"},P={class:"panel"},T={class:"toolbar"},z={class:"text-xs text-slate-500"},G={class:"flex flex-wrap items-center gap-3"},L={class:"relative flex items-center rounded-2xl border border-border/80 bg-white px-3 py-2 text-sm text-slate-500 shadow-sm"},M={class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-border/80 text-sm"},E={class:"divide-y divide-slate-100 bg-white"},X={class:"px-4 py-4"},Y={class:"font-semibold text-slate-900"},H={key:0,class:"text-xs text-slate-500"},J={class:"px-4 py-4"},K={class:"px-4 py-4 font-semibold text-slate-800"},Q={class:"px-4 py-4 text-slate-600"},R={class:"px-4 py-4 text-right"},W={class:"flex items-center justify-end gap-3"},Z=["onClick"],ee={class:"border-t border-border/60 px-4 py-3 text-sm text-slate-500"},te={key:0,class:"fixed inset-0 z-40 flex"},se={class:"h-full w-full max-w-md bg-white shadow-2xl"},le={class:"flex items-center justify-between border-b border-border px-6 py-4"},oe={key:0,class:"form-error"},ae={key:0,class:"form-error"},re={class:"flex justify-end gap-3 pt-4"},ne=["disabled"],de={__name:"Index",props:{youth:Object,filters:Object},setup(d){const c=y(d.filters?.search??"");C(c,p=>{v.get(route("admin.youth.index"),{search:p},{preserveState:!0,replace:!0})});const l=S({first_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:""}),i=y(!1),w=()=>{l.post(route("admin.youth.store"),{onSuccess:()=>{l.reset(),i.value=!1}})},k=p=>{confirm("Are you sure you want to delete this young person?")&&v.delete(route("admin.youth.destroy",p),{preserveScroll:!0})};return(p,t)=>(r(),V(A,null,{default:_(()=>[x(o(D),{title:"Young People"}),e("div",I,[e("section",P,[e("div",T,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-semibold text-slate-900"},"Directory",-1)),e("p",z,a(d.youth.total)+" records",1)]),e("div",G,[e("div",L,[x(F,{class:"mr-2 h-4 w-4 text-slate-400"}),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),class:"w-40 bg-transparent text-sm focus:outline-none",placeholder:"Search by name"},null,512),[[m,c.value]])]),e("button",{class:"rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white",onClick:t[1]||(t[1]=s=>i.value=!0)}," Add young person ")])]),e("div",M,[e("table",q,[t[12]||(t[12]=e("thead",{class:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500"},[e("tr",null,[e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Status"),e("th",{class:"px-4 py-3"},"Tokens"),e("th",{class:"px-4 py-3"},"Guardians"),e("th",{class:"px-4 py-3 text-right"},"Actions")])],-1)),e("tbody",E,[(r(!0),n(h,null,g(d.youth.data,s=>(r(),n("tr",{key:s.id,class:"hover:bg-slate-50"},[e("td",X,[e("p",Y,a(s.first_name)+" "+a(s.last_name),1),s.preferred_name?(r(),n("p",H,"Prefers "+a(s.preferred_name),1)):b("",!0)]),e("td",J,[e("span",{class:j(["rounded-full px-3 py-1 text-xs font-semibold",s.status==="active"?"bg-emerald-100 text-emerald-700":s.status==="pending"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"])},a(s.status),3)]),e("td",K,a(s.token_account?.balance??0),1),e("td",Q,[(r(!0),n(h,null,g(s.guardians,f=>(r(),n("p",{key:f.id},a(f.first_name)+" "+a(f.last_name),1))),128))]),e("td",R,[e("div",W,[x(o(U),{href:p.route("admin.youth.show",s.id),class:"text-sm font-semibold text-indigo-600"},{default:_(()=>[...t[11]||(t[11]=[$("Open",-1)])]),_:1},8,["href"]),e("button",{class:"text-sm font-semibold text-rose-500 hover:text-rose-600",onClick:f=>k(s.id)}," Delete ",8,Z)])])]))),128))])])]),e("div",ee," Showing "+a(d.youth.from)+"-"+a(d.youth.to)+" of "+a(d.youth.total)+" people ",1)])]),i.value?(r(),n("div",te,[e("div",{class:"w-full flex-1",onClick:t[2]||(t[2]=s=>i.value=!1)}),e("div",se,[e("div",le,[t[13]||(t[13]=e("div",null,[e("p",{class:"text-lg font-semibold text-slate-900"},"Add young person"),e("p",{class:"text-xs text-slate-500"},"Capture their preferred name and DOB")],-1)),e("button",{class:"rounded-full border border-slate-200 p-2",onClick:t[3]||(t[3]=s=>i.value=!1)},[x(N,{class:"h-4 w-4"})])]),e("form",{class:"space-y-4 px-6 py-6",onSubmit:B(w,["prevent"])},[e("div",null,[t[14]||(t[14]=e("label",{class:"form-label"},"First name",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(l).first_name=s),class:"form-input"},null,512),[[m,o(l).first_name]]),o(l).errors.first_name?(r(),n("p",oe,a(o(l).errors.first_name),1)):b("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"form-label"},"Last name",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o(l).last_name=s),class:"form-input"},null,512),[[m,o(l).last_name]]),o(l).errors.last_name?(r(),n("p",ae,a(o(l).errors.last_name),1)):b("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"form-label"},"Preferred name",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(l).preferred_name=s),class:"form-input"},null,512),[[m,o(l).preferred_name]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"form-label"},"Date of birth",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o(l).date_of_birth=s),type:"date",class:"form-input"},null,512),[[m,o(l).date_of_birth]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"form-label"},"Gender",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>o(l).gender=s),class:"form-input"},null,512),[[m,o(l).gender]])]),e("div",re,[e("button",{type:"button",class:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold",onClick:t[9]||(t[9]=s=>i.value=!1)}," Cancel "),e("button",{type:"submit",class:"rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",disabled:o(l).processing}," Save ",8,ne)])],32)])])):b("",!0)]),_:1}))}},xe=O(de,[["__scopeId","data-v-018e310c"]]);export{xe as default};
