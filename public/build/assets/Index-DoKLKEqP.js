import{u as b,c as _,w as v,a as g,b as c,h as y,d as e,o as d,e as r,F as x,r as m,t as o,n as h,j as k,i as w,v as C,q as $}from"./app-DcNUZgKI.js";import{_ as T}from"./AuthenticatedLayout-5fDWn5Bs.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-CvkjxnVA.js";const j={class:"grid gap-6 lg:grid-cols-3"},B={class:"panel p-6 lg:col-span-2"},N={class:"flex flex-wrap items-center justify-between gap-3"},V={class:"flex flex-wrap items-center gap-2 text-xs"},A={class:"mt-4 overflow-x-auto"},F={class:"min-w-full divide-y divide-border text-sm"},I={class:"divide-y divide-slate-100 bg-white"},R={class:"px-4 py-3"},D=["checked","onChange"],U={class:"px-4 py-3"},q={class:"font-semibold text-slate-900"},z={class:"text-xs text-slate-500"},E={class:"px-4 py-3 text-lg font-semibold text-emerald-600"},L={class:"px-4 py-3 text-right"},M={class:"space-x-2"},W=["onClick"],G=["onClick"],H=["onClick"],J={class:"panel flex flex-col gap-6 p-6"},K={class:"mt-4 space-y-3 text-sm"},O={class:"font-semibold text-slate-900"},P={class:"text-xs text-slate-500"},Q={key:0,class:"text-sm text-slate-500"},X={__name:"Index",props:{accounts:Array,recentTransactions:Array},setup(p){const l=$([]),n=b({young_person_ids:[],amount:1,reason:"Reward earned"}),f=i=>{l.value.includes(i)?l.value=l.value.filter(t=>t!==i):l.value.push(i)},a=(i,t=null)=>{n.amount=i,n.young_person_ids=t?[t]:[...l.value],n.young_person_ids.length&&n.post(route("admin.tokens.adjust"),{preserveScroll:!0,onSuccess:()=>{l.value=[]}})};return(i,t)=>(d(),_(T,null,{default:v(()=>[g(c(y),{title:"Tokens"}),e("div",j,[e("section",B,[e("div",N,[t[5]||(t[5]=e("div",null,[e("p",{class:"text-sm font-semibold text-slate-900"},"Token balances"),e("p",{class:"text-xs text-slate-500"},"Select multiple and apply actions")],-1)),e("div",V,[e("button",{class:"rounded-full bg-slate-100 px-3 py-1 font-semibold text-slate-600",onClick:t[0]||(t[0]=s=>l.value=[])},"Clear"),e("button",{class:"rounded-full bg-emerald-600 px-3 py-1 font-semibold text-white",onClick:t[1]||(t[1]=s=>a(1))},"+1 selected"),e("button",{class:"rounded-full bg-emerald-700 px-3 py-1 font-semibold text-white",onClick:t[2]||(t[2]=s=>a(5))},"+5 selected"),e("button",{class:"rounded-full bg-rose-500 px-3 py-1 font-semibold text-white",onClick:t[3]||(t[3]=s=>a(-5))},"-5 selected")])]),e("div",A,[e("table",F,[t[6]||(t[6]=e("thead",{class:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500"},[e("tr",null,[e("th",{class:"px-4 py-3"}),e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Balance"),e("th",{class:"px-4 py-3 text-right"},"Actions")])],-1)),e("tbody",I,[(d(!0),r(x,null,m(p.accounts,s=>(d(),r("tr",{key:s.id,class:"hover:bg-slate-50"},[e("td",R,[e("input",{type:"checkbox",checked:l.value.includes(s.id),onChange:u=>f(s.id)},null,40,D)]),e("td",U,[e("p",q,o(s.first_name)+" "+o(s.last_name),1),e("p",z,o(s.preferred_name),1)]),e("td",E,o(s.token_account?.balance??0),1),e("td",L,[e("div",M,[e("button",{class:"rounded-full bg-emerald-600 px-3 py-1 text-xs font-semibold text-white",onClick:u=>a(1,s.id)},"+1",8,W),e("button",{class:"rounded-full bg-emerald-700 px-3 py-1 text-xs font-semibold text-white",onClick:u=>a(5,s.id)},"+5",8,G),e("button",{class:"rounded-full bg-rose-500 px-3 py-1 text-xs font-semibold text-white",onClick:u=>a(-5,s.id)},"-5",8,H)])])]))),128))])])])]),e("section",J,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-semibold text-slate-900"},"Recent activity",-1)),e("ul",K,[(d(!0),r(x,null,m(p.recentTransactions,s=>(d(),r("li",{key:s.id,class:"flex items-center justify-between rounded-2xl border border-slate-100 px-3 py-2"},[e("div",null,[e("p",O,o(s.young_person.first_name),1),e("p",P,o(s.reason??s.type),1)]),e("span",{class:h([s.amount>0?"text-emerald-600":"text-rose-500","font-semibold"])},o(s.amount>0?"+":"")+o(s.amount),3)]))),128)),p.recentTransactions.length?k("",!0):(d(),r("li",Q,"No token movements yet."))])]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-semibold text-slate-900"},"Reason",-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>c(n).reason=s),class:"form-input mt-2",placeholder:"eg. Worship team"},null,512),[[C,c(n).reason]])]),t[9]||(t[9]=e("div",{class:"rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-600"},[e("p",{class:"font-semibold text-slate-900"},"Tips"),e("ul",{class:"mt-2 list-disc space-y-1 pl-5"},[e("li",null,"Select multiple youth for group rewards."),e("li",null,"Use negative values to redeem in the shop."),e("li",null,"Tie reasons to events for better reporting.")])],-1))])])]),_:1}))}},se=S(X,[["__scopeId","data-v-07bb7661"]]);export{se as default};
