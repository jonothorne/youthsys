import{q as y,x as w,s as k,u as S,c as V,w as v,a as p,b as a,h as C,d as e,t as o,i as u,v as m,o as r,e as n,F as _,r as h,j as f,n as D,l as U,f as j,g as B}from"./app-CXUHY1a-.js";import{S as F,X as N,_ as $}from"./AuthenticatedLayout-DtQ9vbQl.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chevron-right-Bl2g2JZm.js";const A={class:"space-y-6"},I={class:"panel"},P={class:"toolbar"},T={class:"text-xs text-slate-500"},z={class:"flex flex-wrap items-center gap-3"},G={class:"relative flex items-center rounded-2xl border border-border/80 bg-white px-3 py-2 text-sm text-slate-500 shadow-sm"},L={class:"overflow-x-auto"},M={class:"min-w-full divide-y divide-border/80 text-sm"},q={class:"divide-y divide-slate-100 bg-white"},E={class:"px-4 py-4"},X={class:"font-semibold text-slate-900"},Y={key:0,class:"text-xs text-slate-500"},H={class:"px-4 py-4"},J={class:"px-4 py-4 font-semibold text-slate-800"},K={class:"px-4 py-4 text-slate-600"},Q={class:"px-4 py-4 text-right"},R={class:"border-t border-border/60 px-4 py-3 text-sm text-slate-500"},W={key:0,class:"fixed inset-0 z-40 flex"},Z={class:"h-full w-full max-w-md bg-white shadow-2xl"},ee={class:"flex items-center justify-between border-b border-border px-6 py-4"},te={key:0,class:"form-error"},se={key:0,class:"form-error"},le={class:"flex justify-end gap-3 pt-4"},ae=["disabled"],oe={__name:"Index",props:{youth:Object,filters:Object},setup(d){const x=y(d.filters?.search??"");w(x,b=>{k.get(route("admin.youth.index"),{search:b},{preserveState:!0,replace:!0})});const l=S({first_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:""}),i=y(!1),g=()=>{l.post(route("admin.youth.store"),{onSuccess:()=>{l.reset(),i.value=!1}})};return(b,t)=>(r(),V($,null,{default:v(()=>[p(a(C),{title:"Young People"}),e("div",A,[e("section",I,[e("div",P,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-semibold text-slate-900"},"Directory",-1)),e("p",T,o(d.youth.total)+" records",1)]),e("div",z,[e("div",G,[p(F,{class:"mr-2 h-4 w-4 text-slate-400"}),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),class:"w-40 bg-transparent text-sm focus:outline-none",placeholder:"Search by name"},null,512),[[m,x.value]])]),e("button",{class:"rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white",onClick:t[1]||(t[1]=s=>i.value=!0)}," Add young person ")])]),e("div",L,[e("table",M,[t[12]||(t[12]=e("thead",{class:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500"},[e("tr",null,[e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Status"),e("th",{class:"px-4 py-3"},"Tokens"),e("th",{class:"px-4 py-3"},"Guardians"),e("th",{class:"px-4 py-3 text-right"},"Actions")])],-1)),e("tbody",q,[(r(!0),n(_,null,h(d.youth.data,s=>(r(),n("tr",{key:s.id,class:"hover:bg-slate-50"},[e("td",E,[e("p",X,o(s.first_name)+" "+o(s.last_name),1),s.preferred_name?(r(),n("p",Y,"Prefers "+o(s.preferred_name),1)):f("",!0)]),e("td",H,[e("span",{class:D(["rounded-full px-3 py-1 text-xs font-semibold",s.status==="active"?"bg-emerald-100 text-emerald-700":s.status==="pending"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"])},o(s.status),3)]),e("td",J,o(s.token_account?.balance??0),1),e("td",K,[(r(!0),n(_,null,h(s.guardians,c=>(r(),n("p",{key:c.id},o(c.first_name)+" "+o(c.last_name),1))),128))]),e("td",Q,[p(a(U),{href:b.route("admin.youth.show",s.id),class:"text-sm font-semibold text-indigo-600"},{default:v(()=>[...t[11]||(t[11]=[j("Open",-1)])]),_:1},8,["href"])])]))),128))])])]),e("div",R," Showing "+o(d.youth.from)+"-"+o(d.youth.to)+" of "+o(d.youth.total)+" people ",1)])]),i.value?(r(),n("div",W,[e("div",{class:"w-full flex-1",onClick:t[2]||(t[2]=s=>i.value=!1)}),e("div",Z,[e("div",ee,[t[13]||(t[13]=e("div",null,[e("p",{class:"text-lg font-semibold text-slate-900"},"Add young person"),e("p",{class:"text-xs text-slate-500"},"Capture their preferred name and DOB")],-1)),e("button",{class:"rounded-full border border-slate-200 p-2",onClick:t[3]||(t[3]=s=>i.value=!1)},[p(N,{class:"h-4 w-4"})])]),e("form",{class:"space-y-4 px-6 py-6",onSubmit:B(g,["prevent"])},[e("div",null,[t[14]||(t[14]=e("label",{class:"form-label"},"First name",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a(l).first_name=s),class:"form-input"},null,512),[[m,a(l).first_name]]),a(l).errors.first_name?(r(),n("p",te,o(a(l).errors.first_name),1)):f("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"form-label"},"Last name",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>a(l).last_name=s),class:"form-input"},null,512),[[m,a(l).last_name]]),a(l).errors.last_name?(r(),n("p",se,o(a(l).errors.last_name),1)):f("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"form-label"},"Preferred name",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a(l).preferred_name=s),class:"form-input"},null,512),[[m,a(l).preferred_name]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"form-label"},"Date of birth",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a(l).date_of_birth=s),type:"date",class:"form-input"},null,512),[[m,a(l).date_of_birth]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"form-label"},"Gender",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a(l).gender=s),class:"form-input"},null,512),[[m,a(l).gender]])]),e("div",le,[e("button",{type:"button",class:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold",onClick:t[9]||(t[9]=s=>i.value=!1)}," Cancel "),e("button",{type:"submit",class:"rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",disabled:a(l).processing}," Save ",8,ae)])],32)])])):f("",!0)]),_:1}))}},me=O(oe,[["__scopeId","data-v-1bf84ec5"]]);export{me as default};
