import{I as y,A as k,_ as v}from"./AuthenticatedLayout-DtQ9vbQl.js";import{c as g,w as c,a as i,b as x,h as w,d as t,o as l,e as n,F as d,r,t as a,m as A,p as j,j as _,l as f,f as B}from"./app-CXUHY1a-.js";import"./chevron-right-Bl2g2JZm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"space-y-8"},S={class:"grid gap-4 lg:grid-cols-4"},C={class:"text-xs uppercase tracking-wide text-slate-500"},D={class:"mt-2 text-3xl font-semibold text-slate-900"},N={class:"rounded-2xl bg-slate-100 p-3 text-slate-500"},R={class:"grid gap-6 lg:grid-cols-3"},V={class:"panel p-6 lg:col-span-2"},I={class:"mt-6 space-y-4"},L={class:"w-24 text-sm text-slate-600"},P={class:"flex-1"},T={class:"h-3 rounded-full bg-slate-100"},F={class:"w-12 text-right text-sm font-semibold text-slate-800"},U={key:0,class:"text-sm text-slate-500"},$={class:"panel p-6"},q={class:"mt-6 space-y-4"},z={class:"text-sm font-semibold text-slate-800"},E={class:"rounded-full bg-slate-100 px-3 py-1 text-sm font-semibold text-slate-700"},M={key:0,class:"text-sm text-slate-500"},Q={class:"grid gap-6 lg:grid-cols-3"},G={class:"panel p-6 lg:col-span-2"},H={class:"mt-5 grid gap-3 md:grid-cols-3"},J={class:"font-semibold text-slate-900"},K={class:"mt-1 text-xs text-slate-500"},W={class:"panel p-6"},X={class:"mt-6 rounded-2xl border border-slate-100 bg-slate-50/60 p-4"},Y={class:"text-3xl font-semibold text-slate-900"},lt={__name:"Dashboard",props:{stats:Object,attendanceRecent:Array,ageBuckets:Object},setup(o){const u=o,b=[{key:"active_youth",label:"Active youth",icon:"Users"},{key:"pending_youth",label:"Pending approvals",icon:"UserPlus"},{key:"sessions_this_month",label:"Sessions this month",icon:"CalendarRange"},{key:"token_liability",label:"Tokens outstanding",icon:"Coins",prefix:""}],h=[{label:"Start weekly register",description:"Open the attendance grid",route:"admin.attendance.index"},{label:"Invite leader",description:"Add a new admin/token operator",route:"admin.users.index"},{label:"Send parent form",description:"Share registration link",route:"enrolment.form",external:!0}];return(p,s)=>(l(),g(v,null,{default:c(()=>[i(x(w),{title:"Overview"}),t("div",O,[t("section",S,[(l(),n(d,null,r(b,e=>t("div",{key:e.key,class:"stat-card flex items-start justify-between"},[t("div",null,[t("p",C,a(e.label),1),t("p",D,a(u.stats?.[e.key]??0),1)]),t("div",N,[(l(),g(A(y[e.icon]),{class:"h-5 w-5"}))])])),64))]),t("section",R,[t("div",V,[s[0]||(s[0]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("p",{class:"text-sm font-semibold text-slate-900"},"Attendance pulse"),t("p",{class:"text-xs text-slate-500"},"Past six gatherings")]),t("span",{class:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700"},"Live")],-1)),t("div",I,[(l(!0),n(d,null,r(o.attendanceRecent,e=>(l(),n("div",{key:e.id,class:"flex items-center gap-4"},[t("div",L,a(new Date(e.session_date).toLocaleDateString()),1),t("div",P,[t("div",T,[t("div",{class:"h-3 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500",style:j({width:`${Math.min(e.present_count*3,100)}%`})},null,4)])]),t("div",F,a(e.present_count),1)]))),128)),o.attendanceRecent?.length?_("",!0):(l(),n("p",U,"No sessions logged yet."))])]),t("div",$,[s[1]||(s[1]=t("p",{class:"text-sm font-semibold text-slate-900"},"Age distribution",-1)),t("ul",q,[(l(!0),n(d,null,r(o.ageBuckets,(e,m)=>(l(),n("li",{key:m,class:"flex items-center justify-between"},[t("div",null,[t("p",z,a(m),1)]),t("span",E,a(e),1)]))),128)),Object.keys(o.ageBuckets).length?_("",!0):(l(),n("li",M,"Add DOBs to view age spread."))])])]),t("section",Q,[t("div",G,[s[2]||(s[2]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("p",{class:"text-sm font-semibold text-slate-900"},"Quick actions"),t("p",{class:"text-xs text-slate-500"},"Shortcuts for the team")])],-1)),t("div",H,[(l(),n(d,null,r(h,e=>i(x(f),{key:e.label,href:p.route(e.route),target:e.external?"_blank":void 0,class:"rounded-2xl border border-border/80 p-4 text-sm text-slate-600 shadow-sm transition hover:border-indigo-400 hover:text-indigo-600"},{default:c(()=>[t("p",J,a(e.label),1),t("p",K,a(e.description),1)]),_:2},1032,["href","target"])),64))])]),t("div",W,[s[5]||(s[5]=t("p",{class:"text-sm font-semibold text-slate-900"},"Tokens snapshot",-1)),s[6]||(s[6]=t("p",{class:"text-xs text-slate-500"},"Outstanding balances",-1)),t("div",X,[t("p",Y,a(u.stats?.token_liability??0),1),s[3]||(s[3]=t("p",{class:"text-xs text-slate-500"},"tokens ready to redeem",-1))]),i(x(f),{href:p.route("admin.tokens.index"),class:"mt-4 inline-flex items-center gap-2 text-sm font-semibold text-indigo-600"},{default:c(()=>[s[4]||(s[4]=B(" Open token console ",-1)),i(k,{class:"h-4 w-4"})]),_:1},8,["href"])])])])]),_:1}))}};export{lt as default};
