import{u as g,c as h,w as c,a as x,b as i,h as y,d as e,t as n,l as w,f as v,o as d,e as p,F as u,r as m,n as k,j,v as C}from"./app-BfrWtaKH.js";import{_ as V}from"./AuthenticatedLayout-9mftyNgS.js";import"./chevron-right-BJR7RRhb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},D={class:"flex flex-wrap items-center justify-between gap-4"},N={class:"text-2xl font-semibold text-slate-900"},S={class:"text-sm text-slate-500"},F={class:"panel p-0"},T={class:"toolbar flex-col gap-3 sm:flex-row"},z=["disabled"],A={class:"divide-y divide-slate-100"},L={class:"text-base font-semibold text-slate-900"},M={class:"text-xs text-slate-500"},U={class:"flex flex-wrap gap-2"},$=["onClick"],q=["onUpdate:modelValue"],I={__name:"Show",props:{session:Object},setup(_){const l=_,r=g({records:l.session.records.map(a=>({id:a.id,status:a.status,notes:a.notes??"",young_person:a.young_person}))}),f=["present","late","absent","excused"],b=()=>{r.patch(route("admin.attendance.records.update",l.session.id))};return(a,o)=>(d(),h(V,null,{default:c(()=>[x(i(y),{title:"Attendance"}),e("div",B,[e("div",D,[e("div",null,[o[0]||(o[0]=e("p",{class:"text-xs uppercase tracking-wide text-slate-500"},"Register",-1)),e("h1",N,n(l.session.name),1),e("p",S,n(new Date(l.session.session_date).toLocaleDateString()),1)]),x(i(w),{href:a.route("admin.attendance.index"),class:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600"},{default:c(()=>[...o[1]||(o[1]=[v(" â† All sessions ",-1)])]),_:1},8,["href"])]),e("section",F,[e("div",T,[o[2]||(o[2]=e("div",null,[e("p",{class:"text-sm font-semibold text-slate-900"},"Mark attendance"),e("p",{class:"text-xs text-slate-500"},"Tap a status to toggle quickly")],-1)),e("button",{class:"rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",onClick:b,disabled:i(r).processing}," Save attendance ",8,z)]),e("div",A,[(d(!0),p(u,null,m(i(r).records,t=>(d(),p("div",{key:t.id,class:"flex flex-col gap-4 px-6 py-5 md:flex-row md:items-center md:justify-between"},[e("div",null,[e("p",L,n(t.young_person.first_name)+" "+n(t.young_person.last_name),1),e("p",M,n(t.young_person.guardians?.map(s=>s.first_name).join(", ")),1)]),e("div",U,[(d(),p(u,null,m(f,s=>e("button",{key:s,type:"button",class:k(["rounded-full px-3 py-1 text-xs font-semibold capitalize",t.status===s?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/30":"bg-slate-100 text-slate-600"]),onClick:E=>t.status=s},n(s),11,$)),64))]),j(e("textarea",{"onUpdate:modelValue":s=>t.notes=s,class:"w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm text-slate-600",rows:"1",placeholder:"Notes (optional)"},null,8,q),[[C,t.notes]])]))),128))])])])]),_:1}))}};export{I as default};
